<div class="reset-password">
  <a routerLink="/">
    <img src="assets/images/logo.svg" alt="logo" />
  </a>
  <div class="reset-password__wrapper">
    <div class="reset-password__title">
      <h3>Зміна паролю</h3>
    </div>
    <form
      [formGroup]="resetPasswordForm"
      (ngSubmit)="onSubmit(resetPasswordForm.value)"
    >
      <div class="p-fluid formgrid grid">
        <div class="field col-12">
          <label for="password">Новий пароль</label>
          <p-password
            name="password"
            formControlName="password"
            [toggleMask]="true"
            placeholder="Введіть пароль"
            data-cy="password"
          >
            <ng-template pTemplate="footer">
              <p-divider></p-divider>
              <p class="mt-2">Вимоги до паролю</p>
              <ul class="pl-2 ml-2 mt-0" style="line-height: 1.5">
                <li [ngClass]="{ valid: !hasLowerCase }">
                  Хоча б одна мала літера
                  <i class="pi pi-check" *ngIf="!hasLowerCase"></i>
                </li>
                <li [ngClass]="{ valid: !hasUpperCase }">
                  Хоча б одна велика літера
                  <i class="pi pi-check" *ngIf="!hasUpperCase"></i>
                </li>
                <li [ngClass]="{ valid: !hasNumeric }">
                  Хоча б одна цифра
                  <i class="pi pi-check" *ngIf="!hasNumeric"></i>
                </li>
                <li [ngClass]="{ valid: !hasMinLength }">
                  Не менше 8 символів
                  <i class="pi pi-check" *ngIf="!hasMinLength"></i>
                </li>
              </ul>
            </ng-template>
          </p-password>
          <app-form-control-error-message
            [formGroup]="resetPasswordForm"
            controlName="password"
            errorType="required"
            errorMessage="Потрібно ввести пароль"
          >
          </app-form-control-error-message>
        </div>
        <div class="field col-12">
          <label for="confirmPassword">Підтвердіть новий пароль</label>
          <p-password
            name="confirmPassword"
            formControlName="confirmPassword"
            [toggleMask]="true"
            [feedback]="false"
            placeholder="Підтвердіть пароль"
            data-cy="confirm-password"
          >
          </p-password>
          <app-form-control-error-message
            [formGroup]="resetPasswordForm"
            controlName="confirmPassword"
            errorType="required"
            errorMessage="Потрібно підтвердити пароль"
          >
          </app-form-control-error-message>
          <app-form-control-error-message
            [formGroup]="resetPasswordForm"
            controlName="confirmPassword"
            errorType="mismatch"
            errorMessage="Паролі не збігаються"
          >
          </app-form-control-error-message>
        </div>
      </div>
      <div class="p-fluid formgrid grid">
        <div class="col-12 md:col-12">
          <button
            [disabled]="isLoading"
            type="submit"
            pButton
            label="Змінити"
          ></button>
        </div>
      </div>
    </form>
  </div>
</div>
